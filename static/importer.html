
<div x-init="importer_init()">

    <h1>.csv content importer</h1>
    <h2>1. Download and fill the file with data:</h2>
    <ul>
        <li><a href="/static/files/Manuscripts_sample.csv">Manuscripts_sample.csv</a></li>
        <li><a href="/static/files/Bibliography_sample.csv">Bibliography_sample.csv</a></li>
        <li><a href="/static/files/Content_sample.csv">Content_sample.csv</a></li> 
        <li><a href="/static/files/EditionContent_sample.csv">EditionContent_sample.csv</a></li> 
        <li><a href="/static/files/Formulas_sample.csv">Formulas_sample.csv</a></li> 
        <li><a href="/static/files/Manuscripts_sample.csv">Manuscripts_sample.csv</a></li> 
        <li><a href="/static/files/RiteNames_sample.csv">RiteNames_sample.csv</a></li> 
        <li><a href="/static/files/TimeReference_sample.csv">TimeReference_sample.csv</a></li>
    </ul>

    <h2>2. Upload .csv file:</h2>
    <p>Drag & drop file below, or click and select it using system file browser.</p>
    <div id="upload-container" onclick="browseFile()" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event)">
        <p>Upload .csv</p>
        <input type="file" id="file-input" style="display: none" onchange="handleFile()">
    </div>

    <h2>3. Check the data:</h2>
    <div id="ms_selector">
        <h3>3.1. Select manuscript:</h3>
        <label for="ms_select">Manuscript:</label>
        <select class="manuscript_filter" id="ms_select">
        </select>
    </div>

    <div id="contributor_selector">
        <h3>3.2. Select contributor:</h3>
        <label for="contributor_select">Contributor:</label>
        <select class="contributor_filter" id="contributor_select">
        </select>
    </div>


    <table id="data-table" style="display: none">
        <!-- Table content will be dynamically generated here -->
    </table>

    <p id="error-info"></p>
    <p id="loading-info">Sending data... please wait. Do NOT close this window</p>
    
    <h2>4. Send data to the database:</h2>
    <button id="send-to-server" onclick="sendToServer()" style="display: none">Send to database</button>
    
    
</div>